<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>

<script type="text/javascript" src="//code.jquery.com/jquery-1.10.2.min.js"></script>
<script language="javascript" type="text/javascript" src="__STATICS__/My97DatePicker/WdatePicker.js"></script>
<!-- JQ formVerification类库 -->
<link rel="stylesheet" href="__STATICS__/jquery-form/css/validationEngine.jquery.css" type="text/css"/>
<link rel="stylesheet" href="__STATICS__/jquery-form/css/template.css" type="text/css"/>
<script src="__STATICS__/jquery-form/js/languages/jquery.validationEngine-zh_CN.js" type="text/javascript" charset="utf-8"></script>
<script src="__STATICS__/jquery-form/js/jquery.validationEngine.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
<form action="" method="post">
  <fieldset>
    <legend>业主</legend>
    <br/>
    真实姓名：
    <input name="realname" type="text" class="validate[required]"/><br/><br/>
    手机号： 
    <input name="mobile" type="text" class="validate[required]" /><br/><br/>
    小区名称：
    <input name="community" type="text" class="validate[required]" /><br/><br/>
    地址：
    <div id="div_city"></div>
    <input type="text" name="address" class="validate[required]" value="输入详细住址"/><br/><br/>
    楼盘：
    <div id="div_house_type"></div><br/><br/>
    装修风格：
    <select name="style" class="validate[required]">
    	<option value="">请选择</option>
    	<foreach name="style" key="i" item="vo">
    	<option value="{$i}">{$vo}</option>
    	</foreach>
    </select><br/><br/>
  </fieldset>
  <br/>
  <fieldset>
    <legend>施工</legend>
    <br/>
    预算类型：
    <select name="budget" class="validate[required]">
    	<option value="">请选择</option>
    	<foreach name="budget" key="i" item="vo">
    	<option value="{$i}">{$vo}</option>
    	</foreach>
    </select>
    <input type="text" name="budget_amount" class="validate[required]" value="输入预算金额"/><br/><br/>
    施工面积：
    <input type="text" name="area" class="validate[required]" value=""/><br/><br/>
    预计开工时间：
    <input id="begin_date" class="Wdate validate[required]" name="begin_date" type="text" onClick="WdatePicker()"><br/><br/>
    工期：
    <input type="text" name="cycle" class="validate[required]" value="" />天<br/><br/>
    施工队长：
    <input type="text" name="contractor" class="validate[required]" value="输入姓名"/><br/><br/>
    项目经理：
    <input type="text" name="PM" class="validate[required]" value="输入姓名"/><br/><br/>
    房屋状态：
    <select name="house_status" class="validate[required]">
    	<option value="">请选择</option>
    	<foreach name="house_status" key="i" item="vo">
    	<option value="{$i}">{$vo}</option>
    	</foreach>
    </select><br/><br/>
   装修种类：
   <select name="renovation_type" class="validate[required]">
    	<option value="">请选择</option>
    	<foreach name="renovation_type" key="i" item="vo">
    	<option value="{$i}">{$vo}</option>
    	</foreach>
    </select><br/><br/>
    请选择您要进行的阶段：<br/><br/>
    <div>
    	<foreach name="node" key="i" item="vo">
    	<input type="checkbox" checked="checked" name="node[]" value="{$i}">{$vo}&nbsp;&nbsp;
    	</foreach>
    </div>
  </fieldset> 
  <br/>
  <input type="submit" value="提交"/><input type="reset" value="重置"/>
</form>
<script>
$(function(){
	$("form").validationEngine('attach', {
		onValidationComplete: function(form, status){
			if (status){
				form.submit();
			}
		}  
	});
	cityAjax('city');
	house_typeAjax('house_type');
});
/*省市区列表联动*/
function cityAjax(act,json){
	$.ajax({
		type:'post',
		url:'__GROUP__/City/citySelect',
		async:false,
		data:{'data':json,'act':act},
		success:function(r){
			$("#div_"+act).append(r);
		}
	});
}
function cityRemove(obj){
	if(obj.attr('id') == 'province'){
		$("#city").remove();
		$("#county").remove();
	}else if(obj.attr('id') == 'city'){
		$("#county").remove();	
	}
}
/*房型户型列表联动*/
function house_typeAjax(act,json){
	$.ajax({
		type:'post',
		url:'__GROUP__/House_type/house_typeSelect',
		async:false,
		data:{'data':json,'act':act},
		success:function(r){
			$("#div_"+act).append(r);
		}
	});
}
function house_typeRemove(obj){
	if(obj.attr('id') == 'room'){
		$("#apartment").remove();
	}
}

</script>
</body>
</html>